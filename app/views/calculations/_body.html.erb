<%= render('notice') %>

<% if @calculation.errors.any? %>
  <div class="alert alert-warning alert-dismissible fade show" role="alert" id="error_explanation">
    <h5><%= pluralize(@calculation.errors.count, "error") %> prohibited this calculation from being saved:</h5>

    <ul>
      <% @calculation.errors.each do |error| %>
        <li><%= error.full_message %></li>
      <% end %>
    </ul>
    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
<% end %>

<div class="container">
  <div class="row">
    <div class="col-3">
      <%= render 'form', calculation: @calculation %>
    </div>
    <div class="col-sm">
      <dl class="row">
        <dt class="col-sm-2">Basic Pay</dt>
        <dd class="col-sm-10"><%= number_with_precision(@calculation.basic_pay, presicion: 2, delimiter: ',') %></dd>
      </dl>

      <dl class="row">
        <dt class="col-sm-2">Gross Pay</dt>
        <dd class="col-sm-10"><%= number_with_precision(@calculation.gross_pay, presicion: 2, delimiter: ',') %></dd>
      </dl>

      <dl class="row">
        <dt class="col-sm-2">NSSF</dt>
        <dd class="col-sm-10"><%= number_with_precision(@calculation.nssf, presicion: 2, delimiter: ',') %></dd>
      </dl>

      <dl class="row">
        <dt class="col-sm-2">Tax</dt>
        <dd class="col-sm-10"><%= number_with_precision(@calculation.tax, presicion: 2, delimiter: ',') %></dd>
      </dl>

      <dl class="row">
        <dt class="col-sm-2">Tax Relief</dt>
        <dd class="col-sm-10"><%= number_with_precision(@calculation.basic_pay, presicion: 2, delimiter: ',') %></dd>
      </dl>

      <dl class="row">
        <dt class="col-sm-2">PAYE</dt>
        <dd class="col-sm-10"><%= number_with_precision(@calculation.paye, presicion: 2, delimiter: ',') %></dd>
      </dl>

      <dl class="row">
        <dt class="col-sm-2">NHIF</dt>
        <dd class="col-sm-10"><%= number_with_precision(@calculation.nhif, presicion: 2, delimiter: ',') %></dd>
      </dl>

      <dl class="row">
        <dt class="col-sm-2">Net Pay</dt>
        <dd class="col-sm-10"><%= number_with_precision(@calculation.net_pay, presicion: 2, delimiter: ',') %></dd>
      </dl>

      <%= link_to 'New Calculation', new_calculation_path, class: 'btn btn-secondary' %>
    </div>
  </div>
</div>